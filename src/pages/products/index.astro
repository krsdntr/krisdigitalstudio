---
import Layout from '../../layouts/Layout.astro';
import HeaderClient from "../../components/HeaderClient.jsx";
import Footer from "../../components/Footer.jsx";
import ProductsClient from "../../components/ProductsClient.jsx";
import { getDigitalProducts, getLandingBlocks, getSystemStyles } from "../../lib/notion.js";

const styles = await getSystemStyles();
const products = await getDigitalProducts();
const blocks = await getLandingBlocks();
const productsBlock = blocks.find((b: { componentName: string }) => b.componentName === 'Products');
const title = productsBlock?.title || 'Produk Digital';
const subtitle = productsBlock?.subtitle || 'Kumpulan aset, template, dan solusi digital siap pakai untuk mempercepat proyek Anda.';
---

<Layout title="Produk Digital - Kris" description="Katalog template, script, dan produk digital untuk produktivitas Anda.">
    <div class="min-h-screen bg-slate-50">
        <HeaderClient styles={styles} client:load />
        <main class="pt-28 pb-16 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-16">
                <h1 class="text-4xl md:text-5xl font-bold text-slate-900 mb-4">{title}</h1>
                <p class="text-lg text-slate-600 max-w-2xl mx-auto">
                    {subtitle}
                </p>
            </div>

            <ProductsClient initialProducts={products} client:load />
        </main>
        <Footer />
    </div>
</Layout>
